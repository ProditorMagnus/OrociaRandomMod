#textdomain wesnoth-OrociaRandomMod

[multiplayer]
    id=Orocia_Random_Ageless_Mod
    name= _ "@3p - Orocia Random Mod"
    map_data="{~add-ons/OrociaRandomMod/maps/OrociaRandomMod.map}"
    description= _ "3-Player Survival Map. Work together to protect a powerful shrine from hordes of invaders. Win by surviving until turn 40+6. At the start of their turn, units in and around the shrine gain a bonus of hp, moves, damage, or weapon resistance."
    turns="-1"
    victory_when_enemies_defeated=no
    experience_modifier=70%
    random_start_time=no
    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}
    {ORM_SHRINE_UPGRADE}
    [options]
        [combo]
            id=ORM_upgrade_setting
            default=2
            name=_"Upgrade type"
            description=_"Choose the type of upgrades in shrine"
            [item]
                name=_"No Upgrades"
                value=0
            [/item]
            [item]
                name=_"Randomless (Sequence->res->hp->dmg->mv->)"
                value=1
            [/item]
            [item]
                name=_"Normal (Nothing(2)/res/hp/dmg/mv/str)"
                value=2
            [/item]
            [item]
                name=_"Chaos (Zonk/res/hp/dmg/str/mv)"
                value=3
            [/item]
            [item]
                name=_"Mega Chaos (Zonk/res/hp/dmg/mv/str/def)"
                value=4
            [/item]
        [/combo]
        [combo]
            id=ORM_map_setting
            default=default
            name=_"Map type"
            description=_"Use a different map: Fall is created by ron, Two Suns and Frozen by nickanc"
            [item]
                name="Default"
                value=default
            [/item]
            [item]
                name="Fall"
                value=ronsmap
            [/item]
            [item]
                name="Two Suns"
                value=suns
            [/item]
            [item]
                name="Frozen"
                value=frozen
            [/item]
        [/combo]
        [checkbox]
            id=ORM_agelesswaves_setting
            default=yes
            name=_"Ageless waves"
            description=_"Ageless waves ON/off"
        [/checkbox]
        [checkbox]
            id=ORM_mirroredwaves_setting
            default=yes
            name=_"Waves randomness level"
            description=_"Completely random waves(YES)/Mirrored waves(no)"
        [/checkbox]
        [checkbox]
            id=ORM_individualupgrade_setting
            default=yes
            name=_"Individual upgrades"
            description=_"New random is calculated for each unit in shrine, instead of using same value for all units from that side"
        [/checkbox]
        [checkbox]
            id=ORM_alliedtent_setting
            default=yes
            name=_"Allied tents"
            description=_"Allied tents that give 2 level 2 units ON/off"
        [/checkbox]
        [checkbox]
            id=ORM_arsenal_setting
            default=yes
            name=_"Arsenals"
            description=_"Enable picking up new weapons ON/off"
        [/checkbox]
        [checkbox]
            id=ORM_castledestruction_setting
            default=yes
            name=_"Castle destruction"
            description=_"Castle destruction when enemy moves there ON/off"
        [/checkbox]
        [checkbox]
            id=ORM_tenthealer_setting
            default=yes
            name=_"Tent healer"
            description=_"At least 1 tent unit is healer ON/off"
        [/checkbox]
        [slider]
            id=ORM_hpmultiplier_setting
            default=100
            min=75
            max=150
            step=5
            name=_"HP %"
            description=_"Waves health % of original"
        [/slider]
    [/options]
    [side]
        side=1
        controller=ai
        no_leader=yes
        allow_player=no
        scroll_to_leader=no
        [ai]
            aggression=0.99
            caution=0.01
            grouping=no
        [/ai]
        team_name=Defilers
        user_team_name= _ "teamname^Defilers"
        team_lock=yes
        color=red
        color_lock=true
        village_support=2
        fog=no
        shroud=no
    [/side]

    [side]
        side=2
        controller=human
        gold=75
        team_name=protectors
        user_team_name= _ "teamname^Protectors"
        team_lock=yes
        income=0
        village_support=2
        fog=no
        shroud=no
    [/side]

    [side]
        side=3
        controller=human
        gold=75
        team_name=protectors
        user_team_name= _ "teamname^Protectors"
        team_lock=yes
        income=0
        village_support=2
        fog=no
        shroud=no
    [/side]

    [side]
        # id here goes for leader not side so it shouldnt be included
        side=4
        canrecruit=yes
        controller=human
        gold=75
        team_name=protectors
        user_team_name= _ "teamname^Protectors"
        team_lock=yes
        income=0
        village_support=2
        fog=no
        shroud=no
    [/side]

    [event]
        name=start
        first_time_only=no
        {ORM_BOOLEAN_FORMAT ORM_agelesswaves_setting}
        {ORM_BOOLEAN_FORMAT ORM_mirroredwaves_setting}
        {ORM_BOOLEAN_FORMAT ORM_individualupgrade_setting}
        {ORM_BOOLEAN_FORMAT ORM_alliedtent_setting}
        {ORM_BOOLEAN_FORMAT ORM_tenthealer_setting}
        {ORM_BOOLEAN_FORMAT ORM_arsenal_setting}
        {ORM_BOOLEAN_FORMAT ORM_castledestruction_setting}
    [/event]

    [event]
        name=turn 1
        first_time_only=yes
        {PLACE_IMAGE "scenery/temple1.png" 14 12}
        [objectives]
            silent=yes
            note=_ "<big>Victory:</big>
<span foreground='green'>Defend the shrine until turn 40+6.</span>
<span foreground='green'>The Shrine of Orocia:</span>
You, like your ancestors before you, have sworn to defend a shrine hidden in a mountain valley. The shrine (stoney fields) is a source of mystic power which would be abused by the greedy and unwise. Alas, the secret of the shrine has finally been spread, and it is hidden no more. The greedy horde descends upon you. Can you hold them off?

<span foreground='green'>Note:</span>
A unit at the shrine could receive an empowerment.
- hp +6, moves +2, damage +2, strike +1, defense +5%
- blade/impact/pierce/fire/cold/arcane resistance +5%
- nothing, zonk (damage -2 or strike -1)

<span foreground='green'>Scenario/Modification Credits:</span>
- Ravana ( = Laela ): port to 1.10 & further, and ageless units list continual update, many other changes
- ron, nickanc: additional maps
- Dovolente: original scenario.
- Necromonger (noosel@gmx.de): new scenarios/upgrade types and statistics/random/...
- norbert: port to 1.8 and bug fixes.
- itota: Japanese translations."+"

<span foreground='green'>Version {OROCIARM_VERSION}</span>"
        [/objectives]

        #add a hidden leader so players whose leaders die can still play
        [unit]
            side=1
            type="Fencer"
            canrecruit=yes
            id="Ignore_Bug_Hack"
            x=27
            y=23
            [modifications]
                [object]
                    silent=yes
                    [effect]
                        apply_to=new_ability
                        [abilities]
                            [hides]
                                affect_self=yes
                            [/hides]
                        [/abilities]
                    [/effect]
                [/object]
            [/modifications]
        [/unit]
        [hide_unit]
            x,y=27,23
        [/hide_unit]
        #{VARIABLE OROCIARM_NUMBER_OF_PLAYERS 3} it is not used anywhere
    [/event]

	{LUA_UNIT_LIST_SETUP}
	
    {OROCIARM_HP_CHANGE}

	{OROCIARM_MOVEMENT_CHANGE}

    {OROCIARM_LOSS_CONDITION}

    [event]
        name=new turn
        first_time_only=yes
        {ORM_ANNOUNCE_SETTINGS}
        {OROCIARM_READ_SHRINE_LOCATIONS}
        {VARIABLE_OP ORM_hpmultiplier_setting divide 100.0}
        {VARIABLE def_value 5}
        {VARIABLE zonk_damage 2}
        {VARIABLE zonk_attack 1}
        {VARIABLE attack_value 1}
        {VARIABLE move_value 2}
        {VARIABLE damage_value 2}
        {VARIABLE hp_value 6}
        {VARIABLE res_value 5}
        {VARIABLE randomless 1}
        [if]
            [variable]
                name=ORM_agelesswaves_setting
                equals=ORM_bool_false
            [/variable]
            [then]
                {NORMALWAVES}
                {BORDER_2 "Naga Fighter"}
                {OROCIARM_SET_LABEL "Turn 1: Naga Fighters"}
            [/then]
            [else]
                {OROCIARM_SET_LABEL_AGELESS "Turn 1: Wave 1"}
            [/else]
        [/if]
        [switch]
            variable=ORM_map_setting
            [case]
                value=ronsmap
                [replace_map]
                    map="{~add-ons/OrociaRandomMod/maps/OrociaRandomModedited.map}"
                [/replace_map]
                {OBJ_GOLDEN_ARMOR 11 14 goldarmor1}
                {OBJ_GOLDEN_ARMOR 17 14 goldarmor2}
                {OBJ_GOLDEN_ARMOR 14 9 goldarmor3}
            [/case]
            [case]
                value=suns
                [replace_map]
                    map="{~add-ons/OrociaRandomMod/maps/OrociaRandomModDesert.map}"
                [/replace_map]
                [replace_schedule]
                    {TWO_SUNS_DEFAULT_SCHEDULE}
                [/replace_schedule]
                {OBJ_WATER_PRES_CLOAK 13 13 regencloak1 2}
                {OBJ_WATER_PRES_CLOAK 15 13 regencloak2 3}
                {OBJ_WATER_PRES_CLOAK 14 11 regencloak3 4}
            [/case]
            [case]
                value=frozen
                [replace_map]
                    map="{~add-ons/OrociaRandomMod/maps/OrociaRandomModFrozen.map}"
                [/replace_map]
                {OROCIARM_ICE_WELCOME}
                {OROCIARM_ICE_DESTROY}
            [/case]
        [/switch]
        {OROCIARM_DEFILERS_DESTROY}
        {OROCIARM_WEAPON_ARSENAL 3 9}
        {OROCIARM_WEAPON_ARSENAL 25 9}
        {OROCIARM_ALLIED_TENT 14 21}
    [/event]

    {OROCIARM_TURN46}

    [event]
        name=side 1 turn 1
        [if]
            [variable]
                name=ORM_agelesswaves_setting
                equals=ORM_bool_true
            [/variable]
            [then]
                [if]
                    [variable]
                        name=ORM_mirroredwaves_setting
                        equals=ORM_bool_true
                    [/variable]
                    [then]
                        {OROCIA_RANDOM_UNIT level_zero 6 19}
                        {OROCIA_RANDOM_UNIT level_zero 25 15}
                        {OROCIA_RANDOM_UNIT level_zero 11 3}
                        {OROCIA_RANDOM_UNIT level_zero 18 21}
                        {OROCIA_RANDOM_UNIT level_zero 21 5}
                        {OROCIA_RANDOM_UNIT level_zero 3 11}
                    [/then]
                    [else]
                        {BORDER_2_OLD level_zero}
                    [/else]
                [/if]
                {OROCIARM_SET_LABEL_AGELESS "Turn 3: Wave 2"}
            [/then]
        [/if]
    [/event]

    [event]
        name=side 1 turn 3
        [if]
            [variable]
                name=ORM_agelesswaves_setting
                equals=ORM_bool_true
            [/variable]
            [then]
                [if]
                    [variable]
                        name=ORM_mirroredwaves_setting
                        equals=ORM_bool_true
                    [/variable]
                    [then]
                        {OROCIA_RANDOM_UNIT level_one 4 17}
                        {OROCIA_RANDOM_UNIT level_one 3 14}
                        {OROCIA_RANDOM_UNIT level_one 21 20}
                        {OROCIA_RANDOM_UNIT level_one 24 17}
                        {OROCIA_RANDOM_UNIT level_one 18 3}
                        {OROCIA_RANDOM_UNIT level_one 14 3}
                        {OROCIA_RANDOM_UNIT level_zero 9 21}
                        {OROCIA_RANDOM_UNIT level_zero 15 22}
                        {OROCIA_RANDOM_UNIT level_zero 12 21}
                        {OROCIA_RANDOM_UNIT level_zero 24 8}
                        {OROCIA_RANDOM_UNIT level_zero 25 11}
                        {OROCIA_RANDOM_UNIT level_zero 23 6}
                        {OROCIA_RANDOM_UNIT level_zero 7 5}
                        {OROCIA_RANDOM_UNIT level_zero 5 7}
                        {OROCIA_RANDOM_UNIT level_zero 3 9}
                    [/then]
                    [else]
                        {LAND_A_2_OLD level_one}
                        {LAND_B_3_OLD level_zero}
                    [/else]
                [/if]
            [/then]
        [/if]
    [/event]

    [event]
        name=side 1 turn 3
        {OROCIARM_SET_LABEL_AGELESS "Turn 5: Wave 3"}
    [/event]

    [event]
        name=side 1 turn 5
        [if]
            [variable]
                name=ORM_agelesswaves_setting
                equals=ORM_bool_true
            [/variable]
            [then]
                [if]
                    [variable]
                        name=ORM_mirroredwaves_setting
                        equals=ORM_bool_true
                    [/variable]
                    [then]
                        {OROCIA_RANDOM_UNIT level_one 6 19}
                        {OROCIA_RANDOM_UNIT level_one 25 15}
                        {OROCIA_RANDOM_UNIT level_one 11 3}
                        {OROCIA_RANDOM_UNIT level_one 18 21}
                        {OROCIA_RANDOM_UNIT level_one 21 5}
                        {OROCIA_RANDOM_UNIT level_one 3 11}
                    [/then]
                    [else]
                        {BORDER_2_OLD level_one}
                    [/else]
                [/if]
                {OROCIARM_SET_LABEL_AGELESS "Turn 6: Wave 4"}
            [/then]
        [/if]
    [/event]

    [event]
        name=side 1 turn 6
        [if]
            [variable]
                name=ORM_agelesswaves_setting
                equals=ORM_bool_true
            [/variable]
            [then]
                [if]
                    [variable]
                        name=ORM_mirroredwaves_setting
                        equals=ORM_bool_true
                    [/variable]
                    [then]
                        {OROCIA_RANDOM_UNIT level_zero 4 17}
                        {OROCIA_RANDOM_UNIT level_zero 3 14}
                        {OROCIA_RANDOM_UNIT level_zero 21 20}
                        {OROCIA_RANDOM_UNIT level_zero 24 17}
                        {OROCIA_RANDOM_UNIT level_zero 18 3}
                        {OROCIA_RANDOM_UNIT level_zero 14 3}
                        {OROCIA_RANDOM_UNIT level_zero 11 22}
                        {OROCIA_RANDOM_UNIT level_zero 25 9}
                        {OROCIA_RANDOM_UNIT level_zero 5 6}
                    [/then]
                    [else]
                        {LAND_A_2_OLD level_zero}
                        {LAND_B_1_OLD level_zero}
                    [/else]
                [/if]
            [/then]
        [/if]
    [/event]

    [event]
        name=side 1 turn 6
        {OROCIARM_SET_LABEL_AGELESS "Turn 9: Wave 5"}
    [/event]

    [event]
        name=side 1 turn 9
        [if]
            [variable]
                name=ORM_agelesswaves_setting
                equals=ORM_bool_true
            [/variable]
            [then]
                [if]
                    [variable]
                        name=ORM_mirroredwaves_setting
                        equals=ORM_bool_true
                    [/variable]
                    [then]
                        {OROCIA_RANDOM_UNIT level_one 11 22}
                        {OROCIA_RANDOM_UNIT level_one 25 9}
                        {OROCIA_RANDOM_UNIT level_one 5 6}
                        {OROCIA_RANDOM_UNIT level_one 10 21}
                        {OROCIA_RANDOM_UNIT level_one 13 22}
                        {OROCIA_RANDOM_UNIT level_one 25 10}
                        {OROCIA_RANDOM_UNIT level_one 24 7}
                        {OROCIA_RANDOM_UNIT level_one 6 5}
                        {OROCIA_RANDOM_UNIT level_one 4 7}
                        {OROCIA_RANDOM_UNIT level_one 4 17}
                        {OROCIA_RANDOM_UNIT level_one 3 14}
                        {OROCIA_RANDOM_UNIT level_one 21 20}
                        {OROCIA_RANDOM_UNIT level_one 24 17}
                        {OROCIA_RANDOM_UNIT level_one 18 3}
                        {OROCIA_RANDOM_UNIT level_one 14 3}
                    [/then]
                    [else]
                        {LAND_B_1_OLD level_one}
                        {LAND_B_2_OLD level_one}
                        {LAND_A_2_OLD level_one}
                    [/else]
                [/if]
            [/then]
        [/if]
    [/event]

    [event]
        name=side 1 turn 9
        {OROCIARM_SET_LABEL_AGELESS "Turn 12: Wave 6"}
    [/event]

    [event]
        name=side 1 turn 12
        [if]
            [variable]
                name=ORM_agelesswaves_setting
                equals=ORM_bool_true
            [/variable]
            [then]
                [if]
                    [variable]
                        name=ORM_mirroredwaves_setting
                        equals=ORM_bool_true
                    [/variable]
                    [then]
                        {OROCIA_RANDOM_UNIT level_one 4 17}
                        {OROCIA_RANDOM_UNIT level_one 3 14}
                        {OROCIA_RANDOM_UNIT level_one 21 20}
                        {OROCIA_RANDOM_UNIT level_one 24 17}
                        {OROCIA_RANDOM_UNIT level_one 18 3}
                        {OROCIA_RANDOM_UNIT level_one 14 3}
                        {OROCIA_RANDOM_UNIT level_one 10 21}
                        {OROCIA_RANDOM_UNIT level_one 13 22}
                        {OROCIA_RANDOM_UNIT level_one 25 10}
                        {OROCIA_RANDOM_UNIT level_one 24 7}
                        {OROCIA_RANDOM_UNIT level_one 6 5}
                        {OROCIA_RANDOM_UNIT level_one 4 7}
                        {OROCIA_RANDOM_UNIT level_two 3 15}
                        {OROCIA_RANDOM_UNIT level_two 22 19}
                        {OROCIA_RANDOM_UNIT level_two 17 3}
                    [/then]
                    [else]
                        {LAND_B_2_OLD level_one}
                        {LAND_A_1_OLD level_two}
                        {LAND_A_2_OLD level_one}
                    [/else]
                [/if]
            [/then]
        [/if]
    [/event]

    [event]
        name=side 1 turn 12
        {OROCIARM_SET_LABEL_AGELESS "Turn 15: Wave 7"}
    [/event]

    [event]
        name=side 1 turn 15
        [if]
            [variable]
                name=ORM_agelesswaves_setting
                equals=ORM_bool_true
            [/variable]
            [then]
                [if]
                    [variable]
                        name=ORM_mirroredwaves_setting
                        equals=ORM_bool_true
                    [/variable]
                    [then]
                        {OROCIA_RANDOM_UNIT level_two 11 22}
                        {OROCIA_RANDOM_UNIT level_two 25 9}
                        {OROCIA_RANDOM_UNIT level_two 5 6}
                        {OROCIA_RANDOM_UNIT level_one 4 17}
                        {OROCIA_RANDOM_UNIT level_one 3 14}
                        {OROCIA_RANDOM_UNIT level_one 21 20}
                        {OROCIA_RANDOM_UNIT level_one 24 17}
                        {OROCIA_RANDOM_UNIT level_one 18 3}
                        {OROCIA_RANDOM_UNIT level_one 14 3}
                        {OROCIA_RANDOM_UNIT level_one 10 21}
                        {OROCIA_RANDOM_UNIT level_one 13 22}
                        {OROCIA_RANDOM_UNIT level_one 25 10}
                        {OROCIA_RANDOM_UNIT level_one 24 7}
                        {OROCIA_RANDOM_UNIT level_one 6 5}
                        {OROCIA_RANDOM_UNIT level_one 4 7}
                    [/then]
                    [else]
                        {LAND_B_1_OLD level_two}
                        {LAND_B_2_OLD level_one}
                        {LAND_A_2_OLD level_one}
                    [/else]
                [/if]
            [/then]
        [/if]
    [/event]

    [event]
        name=side 1 turn 15
        {OROCIARM_SET_LABEL_AGELESS "Turn 19: Wave 8"}
    [/event]

    [event]
        name=side 1 turn 19
        [if]
            [variable]
                name=ORM_agelesswaves_setting
                equals=ORM_bool_true
            [/variable]
            [then]
                [if]
                    [variable]
                        name=ORM_mirroredwaves_setting
                        equals=ORM_bool_true
                    [/variable]
                    [then]
                        {OROCIA_RANDOM_UNIT level_one 3 13}
                        {OROCIA_RANDOM_UNIT level_one 3 16}
                        {OROCIA_RANDOM_UNIT level_one 5 18}
                        {OROCIA_RANDOM_UNIT level_one 20 20}
                        {OROCIA_RANDOM_UNIT level_one 23 19}
                        {OROCIA_RANDOM_UNIT level_one 24 16}
                        {OROCIA_RANDOM_UNIT level_one 19 4}
                        {OROCIA_RANDOM_UNIT level_one 16 3}
                        {OROCIA_RANDOM_UNIT level_one 13 3}
                        {OROCIA_RANDOM_UNIT level_two 10 21}
                        {OROCIA_RANDOM_UNIT level_two 13 22}
                        {OROCIA_RANDOM_UNIT level_two 25 10}
                        {OROCIA_RANDOM_UNIT level_two 24 7}
                        {OROCIA_RANDOM_UNIT level_two 6 5}
                        {OROCIA_RANDOM_UNIT level_two 4 7}
                        {OROCIA_RANDOM_UNIT level_two 6 19}
                        {OROCIA_RANDOM_UNIT level_two 25 15}
                        {OROCIA_RANDOM_UNIT level_two 11 3}
                    [/then]
                    [else]
                        {LAND_A_3_OLD level_one}
                        {LAND_B_2_OLD level_two}
                        {BORDER_2_OLD level_two}
                    [/else]
                [/if]
            [/then]
        [/if]
    [/event]

    [event]
        name=side 1 turn 19
        {OROCIARM_SET_LABEL_AGELESS "Turn 21: Wave 9"}
    [/event]

    [event]
        name=side 1 turn 21
        [if]
            [variable]
                name=ORM_agelesswaves_setting
                equals=ORM_bool_true
            [/variable]
            [then]
                [if]
                    [variable]
                        name=ORM_mirroredwaves_setting
                        equals=ORM_bool_true
                    [/variable]
                    [then]
                        {OROCIA_RANDOM_UNIT level_zero 6 19}
                        {OROCIA_RANDOM_UNIT level_zero 25 15}
                        {OROCIA_RANDOM_UNIT level_zero 11 3}
                        {OROCIA_RANDOM_UNIT level_zero 18 21}
                        {OROCIA_RANDOM_UNIT level_zero 21 5}
                        {OROCIA_RANDOM_UNIT level_zero 3 11}
                        {OROCIA_RANDOM_UNIT level_one 3 13}
                        {OROCIA_RANDOM_UNIT level_one 3 16}
                        {OROCIA_RANDOM_UNIT level_one 5 18}
                        {OROCIA_RANDOM_UNIT level_one 20 20}
                        {OROCIA_RANDOM_UNIT level_one 23 19}
                        {OROCIA_RANDOM_UNIT level_one 24 16}
                        {OROCIA_RANDOM_UNIT level_one 19 4}
                        {OROCIA_RANDOM_UNIT level_one 16 3}
                        {OROCIA_RANDOM_UNIT level_one 13 3}
                        {OROCIA_RANDOM_UNIT level_two 10 21}
                        {OROCIA_RANDOM_UNIT level_two 13 22}
                        {OROCIA_RANDOM_UNIT level_two 25 10}
                        {OROCIA_RANDOM_UNIT level_two 24 7}
                        {OROCIA_RANDOM_UNIT level_two 6 5}
                        {OROCIA_RANDOM_UNIT level_two 4 7}
                    [/then]
                    [else]
                        {BORDER_2_OLD level_one}
                        {LAND_A_3_OLD level_zero}
                        {LAND_B_2_OLD level_two}
                    [/else]
                [/if]
            [/then]
        [/if]
        [modify_unit]
            [filter]
                side=1
            [/filter]
            [trait]
                name="swift"
                [effect]
                    apply_to=movement
                    increase=34%
                [/effect]
                [effect]
                    apply_to=attack
                    increase_attacks=25%
                [/effect]
            [/trait]
        [/modify_unit]
    [/event]

    [event]
        name=side 1 turn 21
        {OROCIARM_SET_LABEL_AGELESS "Turn 24: Wave 10"}
    [/event]

    [event]
        name=side 1 turn 24
        [if]
            [variable]
                name=ORM_agelesswaves_setting
                equals=ORM_bool_true
            [/variable]
            [then]
                [if]
                    [variable]
                        name=ORM_mirroredwaves_setting
                        equals=ORM_bool_true
                    [/variable]
                    [then]
                        {OROCIA_RANDOM_UNIT level_one 4 17}
                        {OROCIA_RANDOM_UNIT level_one 3 14}
                        {OROCIA_RANDOM_UNIT level_one 21 20}
                        {OROCIA_RANDOM_UNIT level_one 24 17}
                        {OROCIA_RANDOM_UNIT level_one 18 3}
                        {OROCIA_RANDOM_UNIT level_one 14 3}
                        {OROCIA_RANDOM_UNIT level_one 10 21}
                        {OROCIA_RANDOM_UNIT level_one 13 22}
                        {OROCIA_RANDOM_UNIT level_one 25 10}
                        {OROCIA_RANDOM_UNIT level_one 24 7}
                        {OROCIA_RANDOM_UNIT level_one 6 5}
                        {OROCIA_RANDOM_UNIT level_one 4 7}
                        {OROCIA_RANDOM_UNIT level_two 11 22}
                        {OROCIA_RANDOM_UNIT level_two 25 9}
                        {OROCIA_RANDOM_UNIT level_two 5 6}
                        {OROCIA_RANDOM_UNIT level_one 6 19}
                        {OROCIA_RANDOM_UNIT level_one 25 15}
                        {OROCIA_RANDOM_UNIT level_one 11 3}
                    [/then]
                    [else]
                        {LAND_A_2_OLD level_one}
                        {LAND_B_1_OLD level_two}
                        {LAND_B_2_OLD level_one}
                        {BORDER_1_OLD level_one}
                    [/else]
                [/if]
            [/then]
        [/if]
        [modify_unit]
            [filter]
                side=1
            [/filter]
            [trait]
                name="mighty"
                [effect]
                    apply_to=movement
                    increase=-17%
                [/effect]
                [effect]
                    apply_to=attack
                    increase_damage=50%
                [/effect]
            [/trait]
        [/modify_unit]
    [/event]

    [event]
        name=side 1 turn 24
        {OROCIARM_SET_LABEL_AGELESS "Turn 28: Wave 11"}
    [/event]

    [event]
        name=side 1 turn 28
        [if]
            [variable]
                name=ORM_agelesswaves_setting
                equals=ORM_bool_true
            [/variable]
            [then]
                [if]
                    [variable]
                        name=ORM_mirroredwaves_setting
                        equals=ORM_bool_true
                    [/variable]
                    [then]
                        {OROCIA_RANDOM_UNIT level_one 6 19}
                        {OROCIA_RANDOM_UNIT level_one 25 15}
                        {OROCIA_RANDOM_UNIT level_one 11 3}
                        {OROCIA_RANDOM_UNIT level_one 18 21}
                        {OROCIA_RANDOM_UNIT level_one 21 5}
                        {OROCIA_RANDOM_UNIT level_one 3 11}
                        {OROCIA_RANDOM_UNIT level_two 10 21}
                        {OROCIA_RANDOM_UNIT level_two 13 22}
                        {OROCIA_RANDOM_UNIT level_two 25 10}
                        {OROCIA_RANDOM_UNIT level_two 24 7}
                        {OROCIA_RANDOM_UNIT level_two 6 5}
                        {OROCIA_RANDOM_UNIT level_two 4 7}
                        {OROCIA_RANDOM_UNIT level_two 4 17}
                        {OROCIA_RANDOM_UNIT level_two 3 14}
                        {OROCIA_RANDOM_UNIT level_two 21 20}
                        {OROCIA_RANDOM_UNIT level_two 24 17}
                        {OROCIA_RANDOM_UNIT level_two 18 3}
                        {OROCIA_RANDOM_UNIT level_two 14 3}
                    [/then]
                    [else]
                        {BORDER_2_OLD level_one}
                        {LAND_A_2_OLD level_two}
                        {LAND_B_2_OLD level_two}
                    [/else]
                [/if]
            [/then]
        [/if]
        [modify_unit]
            [filter]
                side=1
            [/filter]
            [trait]
                name="bulky"
                [effect]
                    apply_to=hitpoints
                    increase_total=30%
                [/effect]
                [effect]
                    apply_to=hitpoints
                    increase=30%
                [/effect]
                [effect]
                    apply_to=attack
                    increase_damage=10%
                [/effect]
            [/trait]
        [/modify_unit]
    [/event]

    [event]
        name=side 1 turn 28
        {OROCIARM_SET_LABEL_AGELESS "Turn 31: Chargers"}
    [/event]

    [event]
        name=side 1 turn 31
        [if]
            [variable]
                name=ORM_agelesswaves_setting
                equals=ORM_bool_true
            [/variable]
            [then]
                [if]
                    [variable]
                        name=ORM_mirroredwaves_setting
                        equals=ORM_bool_true
                    [/variable]
                    [then]
                        {OROCIA_RANDOM_UNIT level_two 10 21}
                        {OROCIA_RANDOM_UNIT level_two 13 22}
                        {OROCIA_RANDOM_UNIT level_two 25 10}
                        {OROCIA_RANDOM_UNIT level_two 24 7}
                        {OROCIA_RANDOM_UNIT level_two 6 5}
                        {OROCIA_RANDOM_UNIT level_two 4 7}
                        {OROCIA_RANDOM_UNIT level_three 11 22}
                        {OROCIA_RANDOM_UNIT level_three 25 9}
                        {OROCIA_RANDOM_UNIT level_three 5 6}
                        {OROCIA_RANDOM_UNIT level_two 4 17}
                        {OROCIA_RANDOM_UNIT level_two 3 14}
                        {OROCIA_RANDOM_UNIT level_two 21 20}
                        {OROCIA_RANDOM_UNIT level_two 24 17}
                        {OROCIA_RANDOM_UNIT level_two 18 3}
                        {OROCIA_RANDOM_UNIT level_two 14 3}
                    [/then]
                    [else]
                        {LAND_B_1_OLD level_three}
                        {LAND_A_2_OLD level_two}
                        {LAND_B_2_OLD level_two}
                    [/else]
                [/if]
                [modify_unit]
                    [filter]
                        side=1
                    [/filter]
                    [trait]
                        name="charge"
                        [effect]
                            apply_to=attack
                            [set_specials]
                                mode=append
                                {WEAPON_SPECIAL_CHARGE}
                            [/set_specials]
                        [/effect]
                    [/trait]
                [/modify_unit]
            [/then]
            [else]
                [modify_unit]
                    [filter]
                        side=1
                    [/filter]
                    [trait]
                        name="swift"
                        [effect]
                            apply_to=attack
                            increase_damage=10%
                        [/effect]
                        [effect]
                            apply_to=attack
                            increase_attacks=20%
                        [/effect]
                    [/trait]
                [/modify_unit]
            [/else]
        [/if]
    [/event]

    [event]
        name=side 1 turn 31
        {OROCIARM_SET_LABEL_AGELESS "Turn 33: Mages"}
    [/event]

    [event]
        name=side 1 turn 33
        [if]
            [variable]
                name=ORM_agelesswaves_setting
                equals=ORM_bool_true
            [/variable]
            [then]
                [if]
                    [variable]
                        name=ORM_mirroredwaves_setting
                        equals=ORM_bool_true
                    [/variable]
                    [then]
                        {OROCIA_RANDOM_UNIT level_two 9 21}
                        {OROCIA_RANDOM_UNIT level_two 15 22}
                        {OROCIA_RANDOM_UNIT level_two 12 21}
                        {OROCIA_RANDOM_UNIT level_two 24 8}
                        {OROCIA_RANDOM_UNIT level_two 25 11}
                        {OROCIA_RANDOM_UNIT level_two 23 6}
                        {OROCIA_RANDOM_UNIT level_two 7 5}
                        {OROCIA_RANDOM_UNIT level_two 5 7}
                        {OROCIA_RANDOM_UNIT level_two 3 9}
                        {OROCIA_RANDOM_UNIT level_two 4 17}
                        {OROCIA_RANDOM_UNIT level_two 3 14}
                        {OROCIA_RANDOM_UNIT level_two 21 20}
                        {OROCIA_RANDOM_UNIT level_two 24 17}
                        {OROCIA_RANDOM_UNIT level_two 18 3}
                        {OROCIA_RANDOM_UNIT level_two 14 3}
                        {OROCIA_RANDOM_UNIT level_three 3 15}
                        {OROCIA_RANDOM_UNIT level_three 22 19}
                        {OROCIA_RANDOM_UNIT level_three 17 3}
                    [/then]
                    [else]
                        {LAND_A_1_OLD level_three}
                        {LAND_A_2_OLD level_two}
                        {LAND_B_3_OLD level_two}
                    [/else]
                [/if]
                [modify_unit]
                    [filter]
                        side=1
                    [/filter]
                    [trait]
                        name="mage"
                        [effect]
                            apply_to=attack
                            [set_specials]
                                mode=append
                                {WEAPON_SPECIAL_MAGICAL}
                            [/set_specials]
                        [/effect]
                    [/trait]
                [/modify_unit]
            [/then]
            [else]
                [modify_unit]
                    [filter]
                        side=1
                    [/filter]
                    [trait]
                        name="bulky"
                        [effect]
                            apply_to=hitpoints
                            increase_total=10%
                        [/effect]
                        [effect]
                            apply_to=hitpoints
                            increase=10%
                        [/effect]
                        [effect]
                            apply_to=attack
                            increase_damage=20%
                        [/effect]
                    [/trait]
                [/modify_unit]
            [/else]
        [/if]
    [/event]

    [event]
        name=side 1 turn 33
        {OROCIARM_SET_LABEL_AGELESS "Turn 36: Skirmishers"}
    [/event]

    [event]
        name=side 1 turn 36
        [if]
            [variable]
                name=ORM_agelesswaves_setting
                equals=ORM_bool_true
            [/variable]
            [then]
                [if]
                    [variable]
                        name=ORM_mirroredwaves_setting
                        equals=ORM_bool_true
                    [/variable]
                    [then]
                        {OROCIA_RANDOM_UNIT level_one 6 19}
                        {OROCIA_RANDOM_UNIT level_one 25 15}
                        {OROCIA_RANDOM_UNIT level_one 11 3}
                        {OROCIA_RANDOM_UNIT level_one 18 21}
                        {OROCIA_RANDOM_UNIT level_one 21 5}
                        {OROCIA_RANDOM_UNIT level_one 3 11}
                        {OROCIA_RANDOM_UNIT level_two 3 13}
                        {OROCIA_RANDOM_UNIT level_two 3 16}
                        {OROCIA_RANDOM_UNIT level_two 5 18}
                        {OROCIA_RANDOM_UNIT level_two 20 20}
                        {OROCIA_RANDOM_UNIT level_two 23 19}
                        {OROCIA_RANDOM_UNIT level_two 24 16}
                        {OROCIA_RANDOM_UNIT level_two 19 4}
                        {OROCIA_RANDOM_UNIT level_two 16 3}
                        {OROCIA_RANDOM_UNIT level_two 13 3}
                        {OROCIA_RANDOM_UNIT level_two 4 17}
                        {OROCIA_RANDOM_UNIT level_two 3 14}
                        {OROCIA_RANDOM_UNIT level_two 21 20}
                        {OROCIA_RANDOM_UNIT level_two 24 17}
                        {OROCIA_RANDOM_UNIT level_two 18 3}
                        {OROCIA_RANDOM_UNIT level_two 14 3}
                        {OROCIA_RANDOM_UNIT level_two 3 15}
                        {OROCIA_RANDOM_UNIT level_two 22 19}
                        {OROCIA_RANDOM_UNIT level_two 17 3}
                        {OROCIA_RANDOM_UNIT level_two 11 22}
                        {OROCIA_RANDOM_UNIT level_two 25 9}
                        {OROCIA_RANDOM_UNIT level_two 5 6}
                        {OROCIA_RANDOM_UNIT level_two 10 21}
                        {OROCIA_RANDOM_UNIT level_two 13 22}
                        {OROCIA_RANDOM_UNIT level_two 25 10}
                        {OROCIA_RANDOM_UNIT level_two 24 7}
                        {OROCIA_RANDOM_UNIT level_two 6 5}
                        {OROCIA_RANDOM_UNIT level_two 4 7}
                        {OROCIA_RANDOM_UNIT level_two 28 14}
                        {OROCIA_RANDOM_UNIT level_two 28 15}
                        {OROCIA_RANDOM_UNIT level_two 28 16}
                        {OROCIA_RANDOM_UNIT level_two 28 9}
                        {OROCIA_RANDOM_UNIT level_two 28 10}
                        {OROCIA_RANDOM_UNIT level_two 28 11}
                        {OROCIA_RANDOM_UNIT level_two 3 9}
                        {OROCIA_RANDOM_UNIT level_two 3 10}
                        {OROCIA_RANDOM_UNIT level_two 3 11}
                        {OROCIA_RANDOM_UNIT level_two 3 14}
                        {OROCIA_RANDOM_UNIT level_two 3 15}
                        {OROCIA_RANDOM_UNIT level_two 3 16}
                    [/then]
                    [else]
                        {BORDER_2_OLD level_one}
                        {LAND_A_1_OLD level_two}
                        {LAND_A_2_OLD level_two}
                        {LAND_A_3_OLD level_two}
                        {LAND_B_1_OLD level_two}
                        {LAND_B_2_OLD level_two}
                        {LAND_B_3_OLD level_two}
                    [/else]
                [/if]
                [modify_unit]
                    [filter]
                        side=1
                    [/filter]
                    [trait]
                        name="skirmish"
                        [effect]
                            apply_to=new_ability
                            [abilities]
                                {ABILITY_SKIRMISHER}
                            [/abilities]
                        [/effect]
                    [/trait]
                [/modify_unit]
            [/then]
            [else]
                [modify_unit]
                    [filter]
                        side=1
                    [/filter]
                    [trait]
                        name="mighty"
                        [effect]
                            apply_to=hitpoints
                            increase_total=10%
                        [/effect]
                        [effect]
                            apply_to=hitpoints
                            increase=10%
                        [/effect]
                        [effect]
                            apply_to=attack
                            increase_damage=15%
                        [/effect]
                    [/trait]
                [/modify_unit]
            [/else]
        [/if]
    [/event]

    [event]
        name=side 1 turn 36
        {OROCIARM_SET_LABEL_AGELESS "Turn 38: Backstabbers"}
    [/event]

    [event]
        name=side 1 turn 38
        [if]
            [variable]
                name=ORM_agelesswaves_setting
                equals=ORM_bool_true
            [/variable]
            [then]
                [if]
                    [variable]
                        name=ORM_mirroredwaves_setting
                        equals=ORM_bool_true
                    [/variable]
                    [then]
                        {OROCIA_RANDOM_UNIT level_two 3 15}
                        {OROCIA_RANDOM_UNIT level_two 22 19}
                        {OROCIA_RANDOM_UNIT level_two 17 3}
                        {OROCIA_RANDOM_UNIT level_two 4 17}
                        {OROCIA_RANDOM_UNIT level_two 3 14}
                        {OROCIA_RANDOM_UNIT level_two 21 20}
                        {OROCIA_RANDOM_UNIT level_two 24 17}
                        {OROCIA_RANDOM_UNIT level_two 18 3}
                        {OROCIA_RANDOM_UNIT level_two 14 3}
                        {OROCIA_RANDOM_UNIT level_two 3 13}
                        {OROCIA_RANDOM_UNIT level_two 3 16}
                        {OROCIA_RANDOM_UNIT level_two 5 18}
                        {OROCIA_RANDOM_UNIT level_two 20 20}
                        {OROCIA_RANDOM_UNIT level_two 23 19}
                        {OROCIA_RANDOM_UNIT level_two 24 16}
                        {OROCIA_RANDOM_UNIT level_two 19 4}
                        {OROCIA_RANDOM_UNIT level_two 16 3}
                        {OROCIA_RANDOM_UNIT level_two 13 3}
                        {OROCIA_RANDOM_UNIT level_three 11 22}
                        {OROCIA_RANDOM_UNIT level_three 25 9}
                        {OROCIA_RANDOM_UNIT level_three 5 6}
                        {OROCIA_RANDOM_UNIT level_three 10 21}
                        {OROCIA_RANDOM_UNIT level_three 13 22}
                        {OROCIA_RANDOM_UNIT level_three 25 10}
                        {OROCIA_RANDOM_UNIT level_three 24 7}
                        {OROCIA_RANDOM_UNIT level_three 6 5}
                        {OROCIA_RANDOM_UNIT level_three 4 7}
                        {OROCIA_RANDOM_UNIT level_three 28 14}
                        {OROCIA_RANDOM_UNIT level_three 28 15}
                        {OROCIA_RANDOM_UNIT level_three 28 16}
                        {OROCIA_RANDOM_UNIT level_three 28 9}
                        {OROCIA_RANDOM_UNIT level_three 28 10}
                        {OROCIA_RANDOM_UNIT level_three 28 11}
                        {OROCIA_RANDOM_UNIT level_three 3 9}
                        {OROCIA_RANDOM_UNIT level_three 3 10}
                        {OROCIA_RANDOM_UNIT level_three 3 11}
                        {OROCIA_RANDOM_UNIT level_three 3 14}
                        {OROCIA_RANDOM_UNIT level_three 3 15}
                        {OROCIA_RANDOM_UNIT level_three 3 16}
                    [/then]
                    [else]
                        {LAND_A_1_OLD level_two}
                        {LAND_A_2_OLD level_two}
                        {LAND_A_3_OLD level_two}
                        {LAND_B_1_OLD level_three}
                        {LAND_B_2_OLD level_three}
                        {LAND_B_3_OLD level_three}
                    [/else]
                [/if]
                [modify_unit]
                    [filter]
                        side=1
                    [/filter]
                    [trait]
                        name="backstab"
                        [effect]
                            apply_to=attack
                            [set_specials]
                                mode=append
                                [damage]
                                    id=backstab
                                    name= _ "backstab 1.7"
                                    description= _ "When used offensively, this attack deals 1.7x damage if there is an enemy of the target on the opposite side of the target, and that unit is not incapacitated (turned to stone or otherwise paralyzed)."
                                    multiply=1.7
                                    backstab=yes
                                    active_on=offense
                                [/damage]
                            [/set_specials]
                        [/effect]
                    [/trait]
                [/modify_unit]
            [/then]
            [else]
                [modify_unit]
                    [filter]
                        side=1
                    [/filter]
                    [trait]
                        name="bulky"
                        [effect]
                            apply_to=hitpoints
                            increase_total=15%
                        [/effect]
                        [effect]
                            apply_to=hitpoints
                            increase=15%
                        [/effect]
                        [effect]
                            apply_to=attack
                            increase_damage=20%
                        [/effect]
                    [/trait]
                [/modify_unit]
            [/else]
        [/if]
    [/event]

    [event]
        name=side 1 turn 38
        {OROCIARM_SET_LABEL_AGELESS "Turn 40: Final Wave"}
    [/event]

    [event]
        name=side 1 turn 40
        [if]
            [variable]
                name=ORM_agelesswaves_setting
                equals=ORM_bool_true
            [/variable]
            [then]
                [if]
                    [variable]
                        name=ORM_mirroredwaves_setting
                        equals=ORM_bool_true
                    [/variable]
                    [then]
                        {OROCIA_RANDOM_UNIT level_four 11 22}
                        {OROCIA_RANDOM_UNIT level_four 25 9}
                        {OROCIA_RANDOM_UNIT level_four 5 6}
                        {OROCIA_RANDOM_UNIT level_four 10 21}
                        {OROCIA_RANDOM_UNIT level_four 13 22}
                        {OROCIA_RANDOM_UNIT level_four 25 10}
                        {OROCIA_RANDOM_UNIT level_four 24 7}
                        {OROCIA_RANDOM_UNIT level_four 6 5}
                        {OROCIA_RANDOM_UNIT level_four 4 7}
                        {OROCIA_RANDOM_UNIT level_four 9 21}
                        {OROCIA_RANDOM_UNIT level_four 15 22}
                        {OROCIA_RANDOM_UNIT level_four 12 21}
                        {OROCIA_RANDOM_UNIT level_four 24 8}
                        {OROCIA_RANDOM_UNIT level_four 25 11}
                        {OROCIA_RANDOM_UNIT level_four 23 6}
                        {OROCIA_RANDOM_UNIT level_four 7 5}
                        {OROCIA_RANDOM_UNIT level_four 5 7}
                        {OROCIA_RANDOM_UNIT level_four 3 9}
                    [/then]
                    [else]
                        {LAND_B_1_OLD level_four}
                        {LAND_B_2_OLD level_four}
                        {LAND_B_3_OLD level_four}
                    [/else]
                [/if]
                {OROCIARM_SET_LABEL_AGELESS "Turn 46: WIN!"}
            [/then]
            [else]
                [modify_unit]
                    [filter]
                        side=1
                    [/filter]
                    [trait]
                        name="powerful"
                        [effect]
                            apply_to=hitpoints
                            increase_total=20%
                        [/effect]
                        [effect]
                            apply_to=hitpoints
                            increase=20%
                        [/effect]
                        [effect]
                            apply_to=attack
                            increase_damage=20%
                        [/effect]
                    [/trait]
                [/modify_unit]
            [/else]
        [/if]
        # make them undrainable
        [modify_unit]
            [filter]
                side=1
            [/filter]
            {TRAIT_UNDEAD}
        [/modify_unit]
    [/event]

    {OROCIARM_HERO_DIES}
[/multiplayer]
