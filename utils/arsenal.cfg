#textdomain wesnoth-OrociaRandomMod

#define OROCIARM_ALLIED_TENT X Y

	{IF_VAR ORM_alliedtent_setting equals ORM_bool_true (
		[then]
			[item]
				x={X}
				y={Y}
				image=scenery/tent-fancy-red.png
			[/item]
		[/then]
	)}

    [event]
        name=moveto
        first_time_only=yes
        [filter]
            side=2,3,4,5
            x={X}
            y={Y}
        [/filter]
        # IF_VAR doesnt work for this case
        [if]
            [variable]
                name=ORM_alliedtent_setting
                equals=ORM_bool_true
            [/variable]
            [then]
                [if]
                    [variable]
                        name=ORM_agelesswaves_setting
                        equals=ORM_bool_true
                    [/variable]
                    [or]
                        [variable]
                            name=era_id
                            contains="Ageless"
                        [/variable]
                    [/or]
                    [then]
                        [switch]
                            variable=side_number
                            [case]
                                value=2
                                [lua]
                                    code=randomUnit(level_two,{X},{Y},2)
                                [/lua]
                                [lua]
                                    code=randomUnit(level_two,{X},{Y},2)
                                [/lua]
                            [/case]
                            [case]
                                value=3
                                [lua]
                                    code=randomUnit(level_two,{X},{Y},3)
                                [/lua]
                                [lua]
                                    code=randomUnit(level_two,{X},{Y},3)
                                [/lua]
                            [/case]
                            [case]
                                value=4
                                [lua]
                                    code=randomUnit(level_two,{X},{Y},4)
                                [/lua]
                                [lua]
                                    code=randomUnit(level_two,{X},{Y},4)
                                [/lua]
                            [/case]
                            [case]
                                value=5
                                [lua]
                                    code=randomUnit(level_two,{X},{Y},5)
                                [/lua]
                                [lua]
                                    code=randomUnit(level_two,{X},{Y},5)
                                [/lua]
                            [/case]
                        [/switch]
                    [/then]
                    [else]
                        [lua]
                            code=<<wesnoth.message("ORM Tent","Not available without ageless waves (or ageless era) for code efficiency reasons, this might change in later updates. If you wish this be avaliable sooner then pm Ravana with list formated like http://pastebin.com/VNMDQUfy")>>
                        [/lua]
                    [/else]
                [/if]
                [remove_item]
                    x={X}
                    y={Y}
                    image=scenery/tent-fancy-red.png
                [/remove_item]
            [/then]
        [/if]
    [/event]
#enddef

#define WEAPON_DAFFO X Y
    [object]
        silent=yes
        duration=forever
        [filter]
            x={X}
            y={Y}
        [/filter]
        [effect]
            apply_to=new_attack
            name= _ "Daffodils Sword"
            icon=attacks/sword-holy.png
            type=arcane
            range=melee
            damage=12
            number=3
            [specials]
                {WEAPON_SPECIAL_MAGICAL}
            [/specials]
        [/effect]
        [effect]
            apply_to=new_animation
            [attack_anim]
                [filter_attack]
                    name=_ "Daffodils Sword"
                [/filter_attack]
                hits=no
                [frame]
                    begin=-200
                    end=-150
                [/frame]
                [frame]
                    begin=-150
                    end=100
                [/frame]
                [frame]
                    begin=100
                    end=200
                [/frame]
            [/attack_anim]
        [/effect]
        [effect]
            apply_to=new_animation
            [attack_anim]
                [filter_attack]
                    name=_ "Daffodils Sword"
                [/filter_attack]
                hits=yes

                [frame]
                    begin=-200
                    end=-150
                [/frame]

                [frame]
                    begin=-150
                    end=70
                [/frame]

                [frame]
                    begin=100
                    end=200
                [/frame]
            [/attack_anim]
        [/effect]
    [/object]
#enddef

#define WEAPON_TYLER X Y
    [object]
        silent=yes
        duration=forever
        [filter]
            x={X}
            y={Y}
        [/filter]
        [effect]
            apply_to=new_attack
            name= _ "Tylers Sword"
            icon=attacks/sword-holy.png

            type=blade
            range=melee
            damage=10
            number=3
            [specials]
                {WEAPON_SPECIAL_DRAIN}
            [/specials]
        [/effect]

        [effect]
            apply_to=new_animation
            [attack_anim]
                [filter_attack]
                    name=_ "Tylers Sword"
                [/filter_attack]
                hits=no

                [frame]
                    begin=-200
                    end=-150
                [/frame]

                [frame]
                    begin=-150
                    end=100
                [/frame]

                [frame]
                    begin=100
                    end=200
                [/frame]
            [/attack_anim]
        [/effect]
        [effect]
            apply_to=new_animation
            [attack_anim]
                [filter_attack]
                    name=_ "Tylers Sword"
                [/filter_attack]
                hits=yes

                [frame]
                    begin=-200
                    end=-150
                [/frame]

                [frame]
                    begin=-150
                    end=70
                [/frame]

                [frame]
                    begin=100
                    end=200
                [/frame]
            [/attack_anim]
        [/effect]
    [/object]
#enddef
#define WEAPON_GODS X Y
    [object]
        silent=yes
        duration=forever
        [filter]
            x={X}
            y={Y}
        [/filter]
        [effect]
            apply_to=new_attack
            name= _ "Gods Balls of Death"
            icon=attacks/fireball.png
            type=fire
            range=ranged
            [specials]
                {WEAPON_SPECIAL_MAGICAL}
            [/specials]
            damage=12
            number=3
        [/effect]
        [effect]
            apply_to=new_animation
            [attack_anim]
                [filter_attack]
                    name=_ "Gods Balls of Death"
                [/filter_attack]
                {MISSILE_FRAME_FIREBALL}
                [frame]
                    begin=-240
                    end=-200
                [/frame]

                [frame]
                    begin=-200
                    end=-180
                [/frame]

                [frame]
                    begin=-180
                    end=-120
                    #halo=halo/fireball-preparation-1.png,halo/fireball-preparation-2.png
                    #halo_x,halo_y=-11,3
                    sound=fire.wav
                [/frame]

                [frame]
                    begin=-120
                    end=-60
                    #halo=halo/fireball-preparation-3.png,halo/fireball-preparation-4.png
                    #halo_x,halo_y=-15,1
                [/frame]

                [frame]
                    begin=-60
                    end=0
                    #halo=halo/fireball-preparation-5.png,halo/fireball-preparation-6.png
                    #halo_x,halo_y=-11,3
                [/frame]

                [frame]
                    begin=0
                    end=60
                [/frame]
            [/attack_anim]
        [/effect]
    [/object]
#enddef
#define WEAPON_OCEAN X Y
    [object]
        silent=yes
        duration=forever
        [filter]
            x={X}
            y={Y}
        [/filter]
        [effect]
            apply_to=new_attack
            name= _ "Oceans Wave"
            icon=attacks/dark-missile.png
            type=cold
            range=ranged

            [specials]
                {WEAPON_SPECIAL_DRAIN}
            [/specials]

            damage=10
            number=3
        [/effect]
        [effect]
            apply_to=new_animation
            [attack_anim]
                [filter_attack]
                    name=_ "Oceans Wave"
                [/filter_attack]
                hits=yes
                [missile_frame]
                    begin=-200
                    end=0
                    image="projectiles/darkmissile-n.png"
                    image_diagonal="projectiles/darkmissile-ne.png"
                [/missile_frame]

                [frame]
                    begin=-250
                    end=-180
                    sound=magic-dark.ogg
                [/frame]

                [frame]
                    begin=-180
                    end=-70
                [/frame]
            [/attack_anim]
        [/effect]
        [effect]
            apply_to=new_animation
            [attack_anim]
                [filter_attack]
                    name=_ "Oceans Wave"
                [/filter_attack]
                hits=no

                [missile_frame]
                    begin=-200
                    end=0
                    image="projectiles/darkmissile-n.png"
                    image_diagonal="projectiles/darkmissile-ne.png"
                [/missile_frame]

                [frame]
                    begin=-250
                    end=-180
                    sound=magic-dark-miss.ogg
                [/frame]

                [frame]
                    begin=-130
                    end=-70
                [/frame]
            [/attack_anim]
        [/effect]
    [/object]
#enddef
#define WEAPON_BOLAS X Y
    [object]
        silent=yes
        duration=forever
        [filter]
            x={X}
            y={Y}
        [/filter]
        [effect]
            apply_to=new_attack
            name= _ "Bolas"
            icon=attacks/net.png
            type=impact
            range=ranged

            [specials]
                {WEAPON_SPECIAL_SLOW}
            [/specials]

            damage=5
            number=3
        [/effect]
        [effect]
            apply_to=new_animation
            [attack_anim]
                [filter_attack]
                    name=_ "Bolas"
                [/filter_attack]
                hits=yes
                [missile_frame]
                    begin=-200
                    end=0
                    image="projectiles/bolas-n.png"
                    image_diagonal="projectiles/bolas-ne.png"
                [/missile_frame]

                [frame]
                    begin=-250
                    end=-180
                    sound=net.wav
                [/frame]

                [frame]
                    begin=-180
                    end=-70
                [/frame]
            [/attack_anim]
        [/effect]
        [effect]
            apply_to=new_animation
            [attack_anim]
                [filter_attack]
                    name=_ "Bolas"
                [/filter_attack]
                hits=no

                [missile_frame]
                    begin=-200
                    end=0
                    image="projectiles/bolas-n.png"
                    image_diagonal="projectiles/bolas-ne.png"
                [/missile_frame]

                [frame]
                    begin=-250
                    end=-180
                    sound=miss-2.ogg
                [/frame]

                [frame]
                    begin=-130
                    end=-70
                [/frame]
            [/attack_anim]
        [/effect]
    [/object]
#enddef

#define OROCIARM_WEAPON_ARSENAL X Y

	{IF_VAR ORM_arsenal_setting equals ORM_bool_true (
		[then]
			{IF_VAR ORM_map_setting not_equals ronsmap(
				[then]
					[item]
						x={X}
						y={Y}
						image=scenery/tent-shop-weapons.png
					[/item]
					{VARIABLE arsenal{X}a{Y}a2 0}
					{VARIABLE arsenal{X}a{Y}a3 0}
					{VARIABLE arsenal{X}a{Y}a4 0}
				[/then]
				[else]
					{OROCIARM_WEAPON_TENT 10 15 1}
					{OROCIARM_WEAPON_TENT 19 14 2}
					{OROCIARM_WEAPON_TENT 13 8 3}
				[/else]
			)}
		[/then]
	)}

    [event]
        name=moveto
        first_time_only=no
        [filter]
            side=2,3,4
            x={X}
            y={Y}
        [/filter]

        {IF_VAR ORM_arsenal_setting equals ORM_bool_true (
            [then]
                [if]
                    [variable]
                        name=arsenal{X}a{Y}a$side_number
                        equals=1
                    [/variable]
                    [then]
                        [message]
                            speaker=narrator
                            message= _ "You already visited weapon arsenal (only one weapon available for each player from each arsenal)."
                            image=scenery/tent-shop-weapons.png
                        [/message]
                    [/then]

                    [else]
                        [message]
                            id=ARSENAL0
                            speaker=narrator
                            message= _ "You have come across a weapon arsenal (only one weapon for each player from each arsenal). What would you like to have?"
                            image=scenery/tent-shop-weapons.png
                            [option]
                                id=ARSENAL1
                                message= _ "Daffodils Sword of Light: 12-3 Melee Arcane Magic"

                                [command]
                                    {VARIABLE arsenal{X}a{Y}a$side_number 1}
                                    [object]
                                        silent=yes
                                        duration=forever

                                        [effect]
                                            apply_to=new_attack
                                            name= _ "Daffodils Sword"
                                            icon=attacks/sword-holy.png

                                            type=arcane
                                            range=melee
                                            damage=12
                                            number=3
                                            [specials]
                                                {WEAPON_SPECIAL_MAGICAL}
                                            [/specials]
                                        [/effect]

                                        [effect]
                                            apply_to=new_animation
                                            [attack_anim]
                                                [filter_attack]
                                                    name=_ "Daffodils Sword"
                                                [/filter_attack]
                                                hits=no

                                                [frame]
                                                    begin=-200
                                                    end=-150
                                                [/frame]

                                                [frame]
                                                    begin=-150
                                                    end=100
                                                [/frame]

                                                [frame]
                                                    begin=100
                                                    end=200
                                                [/frame]
                                            [/attack_anim]
                                        [/effect]
                                        [effect]
                                            apply_to=new_animation
                                            [attack_anim]
                                                [filter_attack]
                                                    name=_ "Daffodils Sword"
                                                [/filter_attack]
                                                hits=yes

                                                [frame]
                                                    begin=-200
                                                    end=-150
                                                [/frame]

                                                [frame]
                                                    begin=-150
                                                    end=70
                                                [/frame]

                                                [frame]
                                                    begin=100
                                                    end=200
                                                [/frame]
                                            [/attack_anim]
                                        [/effect]
                                    [/object]
                                [/command]
                            [/option]

                            [option]
                                id=ARSENAL1
                                message= _ "Tylers Sword of Darkness: 10-3 Melee Blade Drain"

                                [command]
                                    {VARIABLE arsenal{X}a{Y}a$side_number 1}
                                    [object]
                                        silent=yes
                                        duration=forever

                                        [effect]
                                            apply_to=new_attack
                                            name= _ "Tylers Sword"
                                            icon=attacks/sword-holy.png

                                            type=blade
                                            range=melee
                                            damage=10
                                            number=3
                                            [specials]
                                                {WEAPON_SPECIAL_DRAIN}
                                            [/specials]
                                        [/effect]

                                        [effect]
                                            apply_to=new_animation
                                            [attack_anim]
                                                [filter_attack]
                                                    name=_ "Tylers Sword"
                                                [/filter_attack]
                                                hits=no

                                                [frame]
                                                    begin=-200
                                                    end=-150
                                                [/frame]

                                                [frame]
                                                    begin=-150
                                                    end=100
                                                [/frame]

                                                [frame]
                                                    begin=100
                                                    end=200
                                                [/frame]
                                            [/attack_anim]
                                        [/effect]
                                        [effect]
                                            apply_to=new_animation
                                            [attack_anim]
                                                [filter_attack]
                                                    name=_ "Tylers Sword"
                                                [/filter_attack]
                                                hits=yes

                                                [frame]
                                                    begin=-200
                                                    end=-150
                                                [/frame]

                                                [frame]
                                                    begin=-150
                                                    end=70
                                                [/frame]

                                                [frame]
                                                    begin=100
                                                    end=200
                                                [/frame]
                                            [/attack_anim]
                                        [/effect]
                                    [/object]
                                [/command]
                            [/option]

                            [option]
                                id=ARSENAL3
                                message= _ "Gods Balls of Death: 12-3 Ranged Fire Magical"
                                [command]
                                    {VARIABLE arsenal{X}a{Y}a$side_number 1}
                                    [object]
                                        silent=yes
                                        duration=forever
                                        [effect]
                                            apply_to=new_attack
                                            name= _ "Gods Balls of Death"
                                            icon=attacks/fireball.png
                                            type=fire
                                            range=ranged
                                            [specials]
                                                {WEAPON_SPECIAL_MAGICAL}
                                            [/specials]
                                            damage=12
                                            number=3
                                        [/effect]
                                        [effect]
                                            apply_to=new_animation
                                            [attack_anim]
                                                [filter_attack]
                                                    name=_ "Gods Balls of Death"
                                                [/filter_attack]
                                                {MISSILE_FRAME_FIREBALL}
                                                [frame]
                                                    begin=-240
                                                    end=-200
                                                [/frame]

                                                [frame]
                                                    begin=-200
                                                    end=-180
                                                [/frame]

                                                [frame]
                                                    begin=-180
                                                    end=-120
                                                    #halo=halo/fireball-preparation-1.png,halo/fireball-preparation-2.png
                                                    #halo_x,halo_y=-11,3
                                                    sound=fire.wav
                                                [/frame]

                                                [frame]
                                                    begin=-120
                                                    end=-60
                                                    #halo=halo/fireball-preparation-3.png,halo/fireball-preparation-4.png
                                                    #halo_x,halo_y=-15,1
                                                [/frame]

                                                [frame]
                                                    begin=-60
                                                    end=0
                                                    #halo=halo/fireball-preparation-5.png,halo/fireball-preparation-6.png
                                                    #halo_x,halo_y=-11,3
                                                [/frame]

                                                [frame]
                                                    begin=0
                                                    end=60
                                                [/frame]
                                            [/attack_anim]
                                        [/effect]
                                    [/object]
                                [/command]
                            [/option]

                            [option]
                                id=ARSENAL4
                                message= _ "Oceans Wave of Darkness: 10-3 Ranged Cold Drain"
                                [command]
                                    {VARIABLE arsenal{X}a{Y}a$side_number 1}
                                    [object]
                                        silent=yes
                                        duration=forever
                                        [effect]
                                            apply_to=new_attack
                                            name= _ "Oceans Wave"
                                            icon=attacks/dark-missile.png
                                            type=cold
                                            range=ranged

                                            [specials]
                                                {WEAPON_SPECIAL_DRAIN}
                                            [/specials]

                                            damage=10
                                            number=3
                                        [/effect]
                                        [effect]
                                            apply_to=new_animation
                                            [attack_anim]
                                                [filter_attack]
                                                    name=_ "Oceans Wave"
                                                [/filter_attack]
                                                hits=yes
                                                [missile_frame]
                                                    begin=-200
                                                    end=0
                                                    image="projectiles/darkmissile-n.png"
                                                    image_diagonal="projectiles/darkmissile-ne.png"
                                                [/missile_frame]

                                                [frame]
                                                    begin=-250
                                                    end=-180
                                                    sound=magic-dark.ogg
                                                [/frame]

                                                [frame]
                                                    begin=-180
                                                    end=-70
                                                [/frame]
                                            [/attack_anim]
                                        [/effect]
                                        [effect]
                                            apply_to=new_animation
                                            [attack_anim]
                                                [filter_attack]
                                                    name=_ "Oceans Wave"
                                                [/filter_attack]
                                                hits=no

                                                [missile_frame]
                                                    begin=-200
                                                    end=0
                                                    image="projectiles/darkmissile-n.png"
                                                    image_diagonal="projectiles/darkmissile-ne.png"
                                                [/missile_frame]

                                                [frame]
                                                    begin=-250
                                                    end=-180
                                                    sound=magic-dark-miss.ogg
                                                [/frame]

                                                [frame]
                                                    begin=-130
                                                    end=-70
                                                [/frame]
                                            [/attack_anim]
                                        [/effect]
                                    [/object]
                                [/command]
                            [/option]

                            [option]
                                id=ARSENAL10
                                message= _ "Don't take anyhing."
                                [command]
                                [/command]
                            [/option]
                        [/message]
                    [/else]
                [/if]
            [/then]
        )}
    [/event]
#enddef

#define OBJ_GOLDEN_ARMOR X Y ID
    {PLACE_IMAGE items/armor-golden.png ({X}) ({Y})}
    [set_variable]
        name=get_item_{ID}
        value=0
    [/set_variable]
    [event]
        name=moveto
        first_time_only=no
        [filter]
            side=2,3,4
            x,y={X},{Y}
        [/filter]

        [if]
            [variable]
                name=get_item_{ID}
                equals=0
            [/variable]
            [then]
                [message]
                    speaker=narrator
                    image="wesnoth-icon.png"
                    message= _ "Do you want this unit to pick up the armor (+10% resistance to all)?"
                    [option]
                        message= _ "Yes"
                        [command]
                            [object]
                                id={ID}
                                duration=forever
                                silent=yes
                                [filter]
                                    side=2,3,4
                                    x,y={X},{Y}
                                [/filter]
                                [then]
                                    [remove_item]
                                        x,y={X},{Y}
                                    [/remove_item]
                                    {VARIABLE get_item_{ID} 1}
                                    [set_variables]
                                        name=unit.modifications.trait
                                        mode=append
                                        [value]
                                            id=golden_armor
                                            name= _ "golden armor"
                                            description= _ "The Golden Armor grants 10% increase in resistances:"
                                        [/value]
                                    [/set_variables]
                                    [unstore_unit]
                                        variable=unit
                                        find_vacant=no
                                    [/unstore_unit]
                                [/then]
                                [effect]
                                    apply_to=resistance
                                    [resistance]
                                        blade=-10
                                        pierce=-10
                                        impact=-10
                                        arcane=-10
                                        cold=-10
                                        fire=-10
                                    [/resistance]
                                [/effect]
                            [/object]
                        [/command]
                    [/option]
                    [option]
                        message= _ "No"
                    [/option]
                [/message]
            [/then]
        [/if]
    [/event]
#enddef


#define ABILITY_WATERREGEN
    [regenerate]
        [filter_self]
            [filter_location]
                terrain=Wo,Ww*,Ww^*
            [/filter_location]
        [/filter_self]
        value=8
        id=healing
        name= _ "water"
        description=_"
The unit will heal itself 8 HP per turn while standing in water. If it is poisoned, it will remove the poison instead of healing."
        affect_self=yes
        poison=cured
    [/regenerate]
#enddef


#define OBJ_WATER_PRES_CLOAK X Y ID SIDE
    {PLACE_IMAGE items/cloak-green.png ({X}) ({Y})}
    [set_variable]
        name=get_item_{ID}
        value=0
    [/set_variable]
    [event]
        name=moveto
        first_time_only=no
        [filter]
            side={SIDE}
            x,y={X},{Y}
        [/filter]

        [if]
            [variable]
                name=get_item_{ID}
                equals=0
            [/variable]
            [then]
                [message]
                    speaker=narrator
                    image="wesnoth-icon.png"
                    message= _ "This cloak boosts your defense inside the shrine and heals you while in water (regenerates while in water, +10% def in flat terrain). Do you want this unit to pick up it?"
                    [option]
                        message= _ "Yes"
                        [command]
                            [object]
                                id={ID}
                                duration=forever
                                silent=yes
                                [filter]
                                    side=2,3,4
                                    x,y={X},{Y}
                                [/filter]
                                [then]
                                    [remove_item]
                                        x,y={X},{Y}
                                    [/remove_item]
                                    {VARIABLE get_item_{ID} 1}
                                    [set_variables]
                                        name=unit.modifications.trait
                                        mode=append
                                        [value]
                                            id=water_preservation
                                            name= _ "water preservation"
                                            description= _ "The cloak grants regeneration while standing in water and +10% defense in flat terrain."
                                        [/value]
                                    [/set_variables]
                                    [unstore_unit]
                                        variable=unit
                                        find_vacant=no
                                    [/unstore_unit]
                                [/then]
                                [effect]
                                    apply_to=defense
                                    replace=no
                                    [defense]
                                        flat=-10
                                    [/defense]
                                [/effect]
                                [effect]
                                    apply_to=new_ability
                                    [abilities]
                                        {ABILITY_WATERREGEN}
                                    [/abilities]
                                [/effect]
                            [/object]
                        [/command]
                    [/option]
                    [option]
                        message= _ "No"
                    [/option]
                [/message]
            [/then]
        [/if]
    [/event]
#enddef

#define OROCIARM_WEAPON_TENT X Y ID
    {IF_VAR ORM_arsenal_setting equals ORM_bool_true (
        [then]
            [item]
                x={X}
                y={Y}
                image=scenery/tent-shop-weapons.png
            [/item]
        [/then]
    )}
    [event]
        name=moveto
        first_time_only=no
        [filter]
            x={X}
            y={Y}
            side=2,3,4
        [/filter]
        [if]
            [variable]
                name=ORM_arsenal_setting
                equals=yes
            [/variable]
            [then]
                [if]
                    [variable]
                        name=get_weapon{ID}
                        not_equals=done
                    [/variable]
                    [then]
                        [message]
                            speaker=$unit.id
                            message="You have come across a weapon tent. You can take one weapon then it will disappear."
                            [option]
                                message= _ "Daffodils Sword of Light: 12-3 Melee Arcane Magic"
                                [command]
                                    [set_variable]
                                        name=get_weapon{ID}
                                        value="daf"
                                    [/set_variable]
                                [/command]
                            [/option]
                            [option]
                                message= _ "Tylers Sword of Darkness: 10-3 Melee Blade Drain"
                                [command]
                                    [set_variable]
                                        name=get_weapon{ID}
                                        value="tyl"
                                    [/set_variable]
                                [/command]
                            [/option]
                            [option]
                                message= _ "Gods Balls of Death: 12-3 Ranged Fire Magical"
                                [command]
                                    [set_variable]
                                        name=get_weapon{ID}
                                        value="god"
                                    [/set_variable]
                                [/command]
                            [/option]
                            [option]
                                message= _ "Oceans Wave of Darkness: 10-3 Ranged Cold Drain"
                                [command]
                                    [set_variable]
                                        name=get_weapon{ID}
                                        value="oce"
                                    [/set_variable]
                                [/command]
                            [/option]
                            [option]
                                message= _ "Bolas: 5-3 Ranged impact slow"
                                [command]
                                    [set_variable]
                                        name=get_weapon{ID}
                                        value="bol"
                                    [/set_variable]
                                [/command]
                            [/option]
                            [option]
                                message= _ "Choose later"
                                [command]
                                [/command]
                            [/option]
                        [/message]
                        [switch]
                            variable=get_weapon{ID}
                            [case]
                                value="daf"
                                {WEAPON_DAFFO {X} {Y}}
                                [set_variable]
                                    name=get_weapon{ID}
                                    value=done
                                [/set_variable]
                            [/case]
                            [case]
                                value="tyl"
                                {WEAPON_TYLER {X} {Y}}
                                [set_variable]
                                    name=get_weapon{ID}
                                    value=done
                                [/set_variable]
                            [/case]
                            [case]
                                value="god"
                                {WEAPON_GODS {X} {Y}}
                                [set_variable]
                                    name=get_weapon{ID}
                                    value=done
                                [/set_variable]
                            [/case]
                            [case]
                                value="oce"
                                {WEAPON_OCEAN {X} {Y}}
                                [set_variable]
                                    name=get_weapon{ID}
                                    value=done
                                [/set_variable]
                            [/case]
                            [case]
                                value="bol"
                                {WEAPON_BOLAS {X} {Y}}
                                [set_variable]
                                    name=get_weapon{ID}
                                    value=done
                                [/set_variable]
                            [/case]
                        [/switch]
                    [/then]
                [/if]
            [/then]
        [/if]
        [if]
            [variable]
                name=get_weapon{ID}
                equals=done
            [/variable]
            [then]
                [remove_item]
                    x={X}
                    y={Y}
                    image=scenery/tent-shop-weapons.png
                [/remove_item]
            [/then]
        [/if]
    [/event]
#enddef
